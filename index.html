<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>合肥实验学校20级02班官方网站</title>
    <style>
        :root {
            --primary-color: #4a6fa5;
            --weather-sunny: #ffd700;
            --weather-rainy: #4682b4;
            --weather-cloudy: #a9a9a9;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            padding: 20px;
            transition: all 0.5s;
        }
        
        /* 天气效果 */
        body.sunny { background: linear-gradient(135deg, #f6d365 0%, #fda085 100%); }
        body.rainy { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        body.cloudy { background: linear-gradient(135deg, #bdc3c7 0%, #2c3e50 100%); }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 30px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            position: relative;
        }
        
        .school-logo {
            position: absolute;
            right: 30px;
            top: 15px;
            height: 50px;
            width: auto;
        }
        
        .login-section {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            display: none;
        }
        
        .login-section.active {
            display: block;
        }
        
        .login-form input {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
        }
        
        .login-form button {
            background: var(--primary-color);
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 10px;
        }
        
        .user-info {
            display: none;
            align-items: center;
            gap: 15px;
        }
        
        .user-info.active {
            display: flex;
        }
        
        .user-badge {
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
        }
        
        .admin { background: #ff6b6b; color: white; }
        .teacher { background: #4ecdc4; color: white; }
        .student { background: #45b7d1; color: white; }
        
        .container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .card h3 {
            color: var(--primary-color);
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #eee;
        }
        
        .quick-nav {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }
        
        .nav-btn {
            padding: 10px 15px;
            background: #f0f4f8;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .nav-btn:hover {
            background: var(--primary-color);
            color: white;
            transform: translateY(-2px);
        }
        
        .homework-item, .score-item {
            background: #f8f9fa;
            padding: 12px;
            margin: 8px 0;
            border-radius: 8px;
            border-left: 4px solid var(--primary-color);
        }
        
        .calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            margin-top: 15px;
        }
        
        .calendar-day {
            padding: 10px;
            text-align: center;
            background: #f8f9fa;
            border-radius: 5px;
        }
        
        .calendar-day.today {
            background: var(--primary-color);
            color: white;
        }
        
        .message-board textarea {
            width: 100%;
            height: 80px;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            margin: 10px 0;
            resize: vertical;
        }
        
        .message {
            background: #f8f9fa;
            padding: 12px;
            margin: 8px 0;
            border-radius: 8px;
        }
        
        .cube-container {
            width: 200px;
            height: 200px;
            perspective: 1000px;
            margin: 20px auto;
        }
        
        .cube {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 1s;
        }
        
        .cube-face {
            position: absolute;
            width: 100%;
            height: 100%;
            border: 2px solid #333;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2px;
            padding: 2px;
            background: #333;
        }
        
        .cube-face > div {
            border-radius: 4px;
        }
        
        .front { transform: rotateY(0deg) translateZ(100px); }
        .back { transform: rotateY(180deg) translateZ(100px); }
        .right { transform: rotateY(90deg) translateZ(100px); }
        .left { transform: rotateY(-90deg) translateZ(100px); }
        .top { transform: rotateX(90deg) translateZ(100px); }
        .bottom { transform: rotateX(-90deg) translateZ(100px); }
        
        .color-0 { background: white; }
        .color-1 { background: #ff0000; }
        .color-2 { background: #00ff00; }
        .color-3 { background: #0000ff; }
        .color-4 { background: #ffff00; }
        .color-5 { background: #ff8800; }
        
        .cube-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }
        
        .cube-controls button {
            padding: 8px 15px;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        
        /* 班级介绍样式 */
        .class-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .class-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 15px;
        }
        
        .stat-item {
            background: #f0f8ff;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }
        
        .stat-item .number {
            font-size: 24px;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .class-member {
            background: #f8f9fa;
            padding: 10px;
            margin: 5px 0;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .member-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .class-slogan {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            text-align: center;
            font-style: italic;
        }
        
        .hidden {
            display: none;
        }
        
        @media (max-width: 768px) {
            .container {
                grid-template-columns: 1fr;
            }
            
            .header {
                flex-direction: column;
                gap: 15px;
            }
            
            .school-logo {
                position: static;
                margin-top: 10px;
            }
        }
    </style>
</head>
<body id="weatherBody">
    <div class="header">
        <h1>合肥实验学校20级02班官方网站</h1>
        <div id="userInfo" class="user-info">
            <span id="userName"></span>
            <span id="userRole" class="user-badge"></span>
            <button onclick="logout()">退出登录</button>
        </div>
        <img src="school-logo.png" alt="校徽" class="school-logo" onerror="this.style.display='none'">
    </div>
    
    <div id="loginSection" class="login-section active">
        <h2>登录</h2>
        <form class="login-form" onsubmit="login(event)">
            <input type="text" id="username" placeholder="用户名" required>
            <input type="password" id="password" placeholder="密码" required>
            <button type="submit">登录</button>
        </form>
    </div>
    
    <div class="container">
        <div class="card">
            <h3>导航栏</h3>
            <div class="quick-nav">
                <button class="nav-btn" onclick="showSection('intro')">班级介绍</button>
                <button class="nav-btn" onclick="showSection('homework')">作业公告</button>
                <button class="nav-btn" onclick="showSection('scores')">成绩公示</button>
                <button class="nav-btn" onclick="showSection('calendar')">班级日历</button>
                <button class="nav-btn" onclick="showSection('messages')">留言板</button>
                <button class="nav-btn" onclick="showSection('cube')">班级潮流</button>
            </div>
        </div>
        
        <!-- 班级介绍 -->
        <div id="introSection" class="card">
            <h3>班级介绍</h3>
            <div class="class-info">
                <div>
                    <h4>20（2）班</h4>
                    <p><strong>班主任：</strong>姚*笑老师</p>
                    <p><strong>班级口号：</strong></p>
                    <div class="class-slogan">
                        "自育自学，健身创造"
                    </div>
                    
                    <div class="class-stats">
                        <div class="stat-item">
                            <div class="number">43</div>
                            <div>班级人数</div>
                        </div>
                        <div class="stat-item">
                            <div class="number">9+</div>
                            <div>任课老师</div>
                        </div>
                        <div class="stat-item">
                            <div class="number">99.99999</div>
                            <div>平均分</div>
                        </div>
                        <div class="stat-item">
                            <div class="number">100%</div>
                            <div>出勤率</div>
                        </div>
                    </div>
                </div>
                    
                    <h4 style="margin-top: 20px;">班级荣誉</h4>
                    <ul style="margin-left: 20px;">
                        <li>2025年度市优秀班集体</li>
                        <li>校运动会团体总分第一名</li>
                        <li>特别文明班级（连续n年）嘿嘿~</li>
                    </ul>
                    
                    <h4 style="margin-top: 20px;">班级目标</h4>
                    <p>咱班说当全国第二，没人敢称第一</p>
                </div>
            </div>
        </div>
        
        <div id="homeworkSection" class="card hidden">
            <h3>作业公告</h3>
            <div id="homeworkList"></div>
            <textarea id="newHomework" placeholder="输入新作业内容..."></textarea>
            <button onclick="addHomework()">发布作业</button>
        </div>
        
        <div id="scoresSection" class="card hidden">
            <h3>成绩公示</h3>
            <div id="scoresList">
                <div class="score-item">
                    <strong>语文</strong>
                    <div>平均分: -- | 最高分: -- | 最低分: --</div>
                </div>
                <div class="score-item">
                    <strong>数学</strong>
                    <div>平均分: -- | 最高分: -- | 最低分: --</div>
                </div>
                <div class="score-item">
                    <strong>英语</strong>
                    <div>平均分: -- | 最高分: 99 | 最低分: --</div>
                </div>
                <div class="score-item">
                    <strong>科学</strong>
                    <div>平均分: 85 | 最高分: 98 | 最低分: 23</div>
                </div>
            </div>
        </div>
        
        <div id="calendarSection" class="card hidden">
            <h3>班级日历</h3>
            <div class="calendar" id="calendar"></div>
            <div style="margin-top: 15px;">
                <h4>近期活动</h4>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>暂无活动</li>
                </ul>
            </div>
        </div>
        
        <div id="messagesSection" class="card hidden">
            <h3>留言板</h3>
            <div id="messagesList"></div>
            <textarea id="newMessage" placeholder="输入留言..."></textarea>
            <button onclick="addMessage()">发布留言</button>
        </div>
        
        <div id="cubeSection" class="card hidden">
            <h3>班级潮流</h3>
            <div class="cube-container">
                <div class="cube" id="cube"></div>
            </div>
            <div class="cube-controls">
                <button onclick="rotateCube('U')">上</button>
                <button onclick="rotateCube('D')">下</button>
                <button onclick="rotateCube('L')">左</button>
                <button onclick="rotateCube('R')">右</button>
                <button onclick="rotateCube('F')">前</button>
                <button onclick="rotateCube('B')">后</button>
                <button onclick="scrambleCube()">打乱</button>
                <button onclick="solveCube()">自动还原</button>
            </div>
        </div>
    </div>
    
    <script>
        // 用户数据
        const users = {
            'admin': { password: 'SYYADMIN', role: '管理员', name: '网站管理员孙亦阳' },
            'teacher1': { password: 'YXX', role: '姚笑笑', name: '班主任' },
            'student1': { password: 'QSY', role: '钱思宇', name: '钱思宇【班级人上人，比人高一等】' },
            'student2': { password: '113514', role: '李欣泽', name: '六六六' },
            'student3': { password: '114514', role: '郑梓珺', name: '菜问' },
            'student4': { password: '5', role: '汪宇宸', name: '汪大侠' }
        };
        
        // 班干部数据
        const classMembers = [
            { name: '鲁思妍', role: '班长，大队部成员', avatar: 'LSY' },
            { name: '李崇好', role: '大队部成员', avatar: 'LCH' }
        ];
        
        // 当前用户
        let currentUser = null;
        
        // 初始化
        document.addEventListener('DOMContentLoaded', function() {
            updateWeather();
            loadData();
            generateCalendar();
            createCube();
            loadClassIntro();
            checkLoginStatus();
        });
        
        // 天气系统
        function updateWeather() {
            const weatherTypes = ['sunny', 'rainy', 'cloudy'];
            const randomWeather = weatherTypes[Math.floor(Math.random() * weatherTypes.length)];
            document.getElementById('weatherBody').className = randomWeather;
            
            // 模拟每小时更新天气
            setTimeout(updateWeather, 3600000);
        }
        
        // 登录系统
        function login(event) {
            event.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            if (users[username] && users[username].password === password) {
                currentUser = {
                    username: username,
                    ...users[username]
                };
                
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                showUserInfo();
            } else {
                alert('用户名或密码错误！');
            }
        }
        
        function showUserInfo() {
            document.getElementById('loginSection').classList.remove('active');
            document.getElementById('userInfo').classList.add('active');
            document.getElementById('userName').textContent = currentUser.name;
            document.getElementById('userRole').textContent = currentUser.role;
            document.getElementById('userRole').className = 'user-badge ' + currentUser.role;
            
            // 根据权限显示不同内容
            const homeworkSection = document.getElementById('homeworkSection');
            if (currentUser.role === '同学') {
                document.getElementById('newHomework').style.display = 'none';
                homeworkSection.querySelector('button').style.display = 'none';
            }
        }
        
        function logout() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            location.reload();
        }
        
        function checkLoginStatus() {
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                showUserInfo();
            }
        }
        
        // 快速导航
        function showSection(sectionId) {
            if (!currentUser && sectionId !== 'intro') {
                alert('请先登录！');
                document.getElementById('introSection').classList.remove('hidden');
                return;
            }
            
            const sections = ['intro', 'homework', 'scores', 'calendar', 'messages', 'cube'];
            sections.forEach(id => {
                const element = document.getElementById(id + 'Section');
                element.classList.add('hidden');
            });
            
            document.getElementById(sectionId + 'Section').classList.remove('hidden');
        }
        
        // 班级介绍加载
        function loadClassIntro() {
            const membersContainer = document.getElementById('classMembers');
            classMembers.forEach(member => {
                const memberDiv = document.createElement('div');
                memberDiv.className = 'class-member';
                memberDiv.innerHTML = `
                    <div class="member-avatar">${member.avatar}</div>
                    <div>
                        <strong>${member.name}</strong><br>
                        <small style="color:#666">${member.role}</small>
                    </div>
                `;
                membersContainer.appendChild(memberDiv);
            });
        }
        
        // 作业系统
        function loadData() {
            const savedHomework = localStorage.getItem('homework') || '[]';
            const homework = JSON.parse(savedHomework);
            const homeworkList = document.getElementById('homeworkList');
            homeworkList.innerHTML = '';
            
            if (homework.length === 0) {
                const defaultHomework = [
                    { date: new Date().toLocaleDateString(), content: '数学：练习册第15-20页', teacher: '李老师' },
                    { date: new Date(Date.now() - 86400000).toLocaleDateString(), content: '语文：背诵《岳阳楼记》', teacher: '张老师' },
                    { date: new Date(Date.now() - 172800000).toLocaleDateString(), content: '英语：完成单元测试卷', teacher: '王老师' }
                ];
                homework.push(...defaultHomework);
            }
            
            homework.forEach((item, index) => {
                const div = document.createElement('div');
                div.className = 'homework-item';
                div.innerHTML = `
                    <strong>${item.date}</strong> - ${item.teacher}<br>
                    ${item.content}
                    ${currentUser && (currentUser.role === '管理员' || currentUser.role === '班主任') ? 
                      `<button onclick="deleteHomework(${index})" style="float:right">删除</button>` : ''}
                `;
                homeworkList.appendChild(div);
            });
            
            // 加载留言
            const savedMessages = localStorage.getItem('messages') || '[]';
            const messages = JSON.parse(savedMessages);
            const messagesList = document.getElementById('messagesList');
            messagesList.innerHTML = '';
            
            if (messages.length === 0) {
                const defaultMessages = [
                    { user: '老师说', role: '班主任', date: '昨天 14:30', content: '做的不错！', username: 'teacher1' },
                    { user: '同学说', role: '同学', date: '前天 10:15', content: '实在太棒了！', username: 'student1' }
                ];
                messages.push(...defaultMessages);
            }
            
            messages.forEach((item, index) => {
                const div = document.createElement('div');
                div.className = 'message';
                div.innerHTML = `
                    <strong>${item.user}</strong> (${item.role}):<br>
                    ${item.content}
                    <small style="color:#666">${item.date}</small>
                    ${currentUser && (currentUser.role === '管理员' || currentUser.username === item.username) ? 
                      `<button onclick="deleteMessage(${index})" style="float:right">删除</button>` : ''}
                `;
                messagesList.appendChild(div);
            });
        }
        
        function addHomework() {
            if (!currentUser || currentUser.role === '同学') {
                alert('无权限操作！');
                return;
            }
            
            const content = document.getElementById('newHomework').value;
            if (!content.trim()) return;
            
            const homework = JSON.parse(localStorage.getItem('homework') || '[]');
            homework.unshift({
                date: new Date().toLocaleDateString() + ' ' + new Date().toLocaleTimeString().slice(0,5),
                content: content,
                teacher: currentUser.name
            });
            
            localStorage.setItem('homework', JSON.stringify(homework));
            document.getElementById('newHomework').value = '';
            loadData();
        }
        
        function deleteHomework(index) {
            const homework = JSON.parse(localStorage.getItem('homework') || '[]');
            homework.splice(index, 1);
            localStorage.setItem('homework', JSON.stringify(homework));
            loadData();
        }
        
        // 留言板
        function addMessage() {
            if (!currentUser) return;
            
            const content = document.getElementById('newMessage').value;
            if (!content.trim()) return;
            
            const messages = JSON.parse(localStorage.getItem('messages') || '[]');
            messages.unshift({
                username: currentUser.username,
                user: currentUser.name,
                role: currentUser.role,
                date: new Date().toLocaleDateString() + ' ' + new Date().toLocaleTimeString().slice(0,5),
                content: content
            });
            
            localStorage.setItem('messages', JSON.stringify(messages));
            document.getElementById('newMessage').value = '';
            loadData();
        }
        
        function deleteMessage(index) {
            const messages = JSON.parse(localStorage.getItem('messages') || '[]');
            messages.splice(index, 1);
            localStorage.setItem('messages', JSON.stringify(messages));
            loadData();
        }
        
        // 日历系统
        function generateCalendar() {
            const calendar = document.getElementById('calendar');
            calendar.innerHTML = '';
            
            const days = ['日', '一', '二', '三', '四', '五', '六'];
            days.forEach(day => {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day';
                dayElement.textContent = day;
                calendar.appendChild(dayElement);
            });
            
            const today = new Date();
            const firstDay = new Date(today.getFullYear(), today.getMonth(), 1);
            const lastDay = new Date(today.getFullYear(), today.getMonth() + 1, 0);
            
            for (let i = 0; i < firstDay.getDay(); i++) {
                const empty = document.createElement('div');
                empty.className = 'calendar-day';
                calendar.appendChild(empty);
            }
            
            for (let i = 1; i <= lastDay.getDate(); i++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day';
                dayElement.textContent = i;
                
                if (i === today.getDate() && today.getMonth() === new Date().getMonth()) {
                    dayElement.classList.add('today');
                }
                
                calendar.appendChild(dayElement);
            }
        }
        
        // 魔方系统
        let cubeState = [];
        let cubeRotation = { x: 0, y: 0 };
        
        function createCube() {
            const cube = document.getElementById('cube');
            cube.innerHTML = '';
            
            const faces = [
                { name: 'front', colors: Array(9).fill(0) },  // 白色
                { name: 'back', colors: Array(9).fill(1) },   // 红色
                { name: 'right', colors: Array(9).fill(2) },  // 绿色
                { name: 'left', colors: Array(9).fill(3) },   // 蓝色
                { name: 'top', colors: Array(9).fill(4) },    // 黄色
                { name: 'bottom', colors: Array(9).fill(5) }  // 橙色
            ];
            
            cubeState = faces;
            
            faces.forEach((face, faceIndex) => {
                const faceElement = document.createElement('div');
                faceElement.className = `cube-face ${face.name}`;
                
                face.colors.forEach((color, colorIndex) => {
                    const sticker = document.createElement('div');
                    sticker.className = `color-${color}`;
                    faceElement.appendChild(sticker);
                });
                
                cube.appendChild(faceElement);
            });
            
            updateCubeRotation();
        }
        
        function rotateCube(direction) {
            const cube = document.getElementById('cube');
            switch(direction) {
                case 'U': cubeRotation.y -= 90; break;
                case 'D': cubeRotation.y += 90; break;
                case 'L': cubeRotation.x -= 90; break;
                case 'R': cubeRotation.x += 90; break;
                case 'F': cubeRotation.y += 180; break;
                case 'B': cubeRotation.x += 180; break;
            }
            updateCubeRotation();
        }
        
        function updateCubeRotation() {
            const cube = document.getElementById('cube');
            cube.style.transform = `rotateX(${cubeRotation.x}deg) rotateY(${cubeRotation.y}deg)`;
        }
        
        function scrambleCube() {
            const moves = ['U', 'D', 'L', 'R', 'F', 'B'];
            for(let i = 0; i < 20; i++) {
                setTimeout(() => {
                    rotateCube(moves[Math.floor(Math.random() * moves.length)]);
                }, i * 100);
            }
        }
        
        function solveCube() {
            cubeRotation = { x: 0, y: 0 };
            updateCubeRotation();
        }
    </script>
</body>
</html>
